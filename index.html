<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>罗塞塔帝国研究所档案 | Rosetta Archives</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@300&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-color: #0b0c15;
            --card-bg: rgba(20, 25, 35, 0.85);
            --gold: #d4af37;
            --gold-dim: #8a702a;
            --text-main: #e0e0e0;
            --text-muted: #8892b0;
            --accent-red: #800020;
            --accent-blue: #1e3a8a;
            --accent-secret: #ff4d4d; /* 彩蛋文字颜色 */
            --modal-overlay: rgba(0, 0, 0, 0.85);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Playfair Display', serif;
            overflow-x: hidden;
            background-image: 
                radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 3px),
                radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 2px);
            background-size: 550px 550px, 350px 350px;
            animation: stars 60s linear infinite;
        }

        @keyframes stars {
            0% { background-position: 0 0, 40px 60px; }
            100% { background-position: 550px 550px, 390px 410px; }
        }

        /* 装饰线条 */
        .line-deco {
            position: fixed; top: 0; bottom: 0; width: 1px;
            background: linear-gradient(to bottom, transparent, var(--gold-dim), transparent);
            z-index: -1;
        }
        .line-left { left: 5%; }
        .line-right { right: 5%; }

        /* 头部 */
        header {
            height: 90vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            border-bottom: 2px solid var(--gold);
            position: relative;
        }

        .hero-logo {
            font-family: 'Cinzel', serif;
            font-size: clamp(3rem, 8vw, 5rem);
            color: var(--gold);
            text-shadow: 0 0 15px rgba(212, 175, 55, 0.3);
            letter-spacing: 0.1em;
            margin-bottom: 1rem;
        }

        .hero-sub {
            font-family: 'JetBrains Mono', monospace;
            color: var(--text-muted);
            max-width: 600px;
            padding: 0 20px;
            line-height: 1.6;
        }

        /* 导航/分类 */
        .section-title {
            text-align: center;
            font-family: 'Cinzel', serif;
            font-size: 2rem;
            margin: 5rem 0 3rem;
            color: var(--text-main);
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }
        .section-title::before, .section-title::after {
            content: ""; display: block; width: 60px; height: 1px;
            background: var(--gold); position: absolute; top: 50%;
        }
        .section-title::before { left: -80px; }
        .section-title::after { right: -80px; }

        /* 网格 */
        .container { max-width: 1400px; margin: 0 auto; padding: 0 5% 100px; }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2.5rem;
        }

        /* 卡片样式 */
        .card {
            background: var(--card-bg);
            border: 1px solid var(--gold-dim);
            padding: 2rem;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        .card:hover {
            transform: translateY(-8px);
            border-color: var(--gold);
            box-shadow: 0 10px 40px rgba(0,0,0,0.6);
        }
        .card-code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            color: var(--gold);
            opacity: 0.7;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
        }
        .card-title {
            font-family: 'Cinzel', serif;
            font-size: 1.4rem;
            color: #fff;
            margin-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 10px;
        }
        .card-leader {
            font-family: 'Playfair Display', serif;
            font-style: italic;
            color: var(--gold);
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }
        .card-loc {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: auto; /* Push to bottom */
            padding-top: 15px;
        }

        /* 隐藏的真相手写字 (彩蛋) */
        .secret-text {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-10deg);
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            color: var(--accent-secret);
            opacity: 0;
            pointer-events: none;
            text-shadow: 0 0 5px rgba(0,0,0,0.8);
            transition: opacity 0.5s ease;
            width: 90%;
            text-align: center;
            z-index: 10;
        }

        /* 模态框 (Modal) */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--modal-overlay);
            display: flex; justify-content: center; align-items: center;
            opacity: 0; visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
            backdrop-filter: blur(8px);
        }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        
        .modal-content {
            background: #111;
            border: 2px solid var(--gold);
            width: 90%; max-width: 700px;
            padding: 3rem;
            position: relative;
            transform: scale(0.9);
            transition: transform 0.3s ease;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 0 50px rgba(212, 175, 55, 0.2);
        }
        .modal-overlay.active .modal-content { transform: scale(1); }

        .modal-close {
            position: absolute; top: 20px; right: 20px;
            color: var(--gold); font-size: 2rem; cursor: pointer;
            font-family: 'Cinzel', serif;
            background: none; border: none;
        }
        .modal-body h2 { font-family: 'Cinzel', serif; color: var(--gold); margin-bottom: 1rem; }
        .modal-body p { font-family: 'Playfair Display', serif; line-height: 1.8; margin-bottom: 1.5rem; font-size: 1.1rem; }
        .modal-meta {
            font-family: 'JetBrains Mono', monospace; font-size: 0.8rem;
            color: var(--text-muted); border-top: 1px solid #333; padding-top: 1rem;
        }

        /* 彩蛋触发器 - 蓝色马卡龙 */
        .macaron-trigger {
            position: fixed; bottom: 30px; right: 30px;
            width: 40px; height: 40px;
            background: #4facfe; /* Blue Macaron */
            border-radius: 50%;
            cursor: pointer;
            opacity: 0.1; /* 几乎不可见 */
            transition: opacity 0.3s;
            z-index: 999;
            box-shadow: 0 4px 0 #3b8ac4;
        }
        .macaron-trigger:hover { opacity: 1; }

        /* 解密模式样式 */
        body.decrypted .secret-text { opacity: 1; }
        body.decrypted {
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1h2v2H1V1zm4 4h2v2H5V5zm4 4h2v2H9V9zm4 4h2v2h-2v-2zm4 4h2v2h-2v-2z' fill='%234facfe' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
            animation: rain 1s linear infinite;
        }
        @keyframes rain { from { background-position: 0 0; } to { background-position: 0 20px; } }

    </style>
</head>
<body>

    <div class="line-deco line-left"></div>
    <div class="line-deco line-right"></div>

    <header>
        <div class="hero-logo">ROSETTA</div>
        <div style="font-family: 'Cinzel'; font-size: 1.2rem; color: #fff; letter-spacing: 3px; margin-bottom: 2rem;">
            IMPERIAL INSTITUTE
        </div>
        <div class="hero-sub">
            <p>“以自然神的指示，为伟大的罗塞塔帝国研究所的消亡默哀。”</p>
            <p style="margin-top: 10px; font-size: 0.8rem;">[ARCHIVE ACCESS: LEVEL 5]</p>
        </div>
    </header>

    <div class="container">
        
        <h2 class="section-title">The Committee (SCC)</h2>
        <div class="grid" id="grid-level1">
            </div>

        <h2 class="section-title">Secondary Institutes</h2>
        <div class="grid" id="grid-level2">
            </div>

        <h2 class="section-title">Tertiary Institutes</h2>
        <div class="grid" id="grid-level3">
            </div>

    </div>

    <div class="modal-overlay" id="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">×</button>
            <div class="modal-body" id="modal-body">
                </div>
        </div>
    </div>

    <div class="macaron-trigger" onclick="toggleSecret()" title="A Sweet Treat?"></div>

    <script>
        // 机构数据源
        const database = [
            {
                id: 'scc',
                level: 1,
                name: 'Starry Counters Committee',
                cnName: '星空计数人委员会',
                leader: 'Elizabeth Maggie',
                loc: 'Dubai, Saudi Arabia',
                desc: '罗塞塔帝国研究所的核心大脑。统筹狄俄尼修斯计划与星空计数事务。',
                secret: '“伊丽莎白只是想给世界倒计时。”',
                fullText: '责任会长: 伊丽莎白·玛吉。<br>地点: 哈利法塔。一切的起点，也是终点。'
            },
            {
                id: 'vivian',
                level: 2,
                name: 'Inst. of Heavy Elements (Vivian)',
                cnName: '薇薇安学院 (重元素与理论物理)',
                leader: 'Vivian Lise Meitner',
                loc: 'Leipzig, Germany',
                code: 'Red Beryl (7.5)',
                desc: '历史最悠久的二级机构。提供了模拟粒子对撞机方案。',
                secret: '“那个长睫毛的院长其实很温柔。”',
                fullText: '全称: 罗塞塔帝国研究所附属重元素与理论物理研究院。<br>一级代号: 【红色线柱石】 (莫氏硬度: 7.5)。<br>薇薇安是研究所最受尊敬的院长之一。第109号元素以她命名。'
            },
            {
                id: 'honey',
                level: 2,
                name: 'Honey Badger Commando',
                cnName: '蜜獾突击队 (秘密事务)',
                leader: 'Iris Victoria',
                loc: 'London, UK',
                code: 'Ruby (9.0)',
                desc: '有神力者特别观测站。负责间谍潜伏与暗杀任务。',
                secret: '“爱丽丝是世界上最大的欺诈师。”',
                fullText: '全称: 罗塞塔帝国研究所附属有神力者特别观测站与秘密事务执行处。<br>一级代号: 【红宝石】。<br>蜜獾是胆量最大的生物。爱丽丝·维多利亚不仅是队长，更是潜伏在乾弈阁的“皇后”。'
            },
            {
                id: 'math',
                level: 2,
                name: 'Inst. of Applied Mathematics',
                cnName: '应用数学研究院',
                leader: 'Lowery Nihility',
                loc: 'Naples, Italy',
                code: 'Unknown',
                desc: '负责构建罗塞塔帝国的数学基石与逻辑模型。',
                secret: '“虚无(Nihility)并不代表不存在。”',
                fullText: '全称: 罗塞塔帝国研究所附属应用数学研究院。<br>院长: 洛厄里·奈希勒提。<br>地点: 那不勒斯，意大利。'
            },
            {
                id: 'physics',
                level: 2,
                name: 'Inst. of Applied Physics',
                cnName: '应用物理研究院',
                leader: 'Hypatia',
                loc: 'Dublin, Ireland',
                code: 'Unknown',
                desc: '致力于物理法则的实际应用与工程化落地。',
                secret: '“为了纪念那位亚历山大图书馆的女儿。”',
                fullText: '全称: 罗塞塔帝国研究所附属应用物理研究院。<br>院长: 希帕媞娅。<br>地点: 都柏林，爱尔兰。'
            },
            {
                id: 'riken',
                level: 2,
                name: 'Riken (Phys-Chem)',
                cnName: '理化学研究院',
                leader: 'Tapetit Berat Ecari',
                loc: 'Paris, France',
                code: 'Unknown',
                desc: '跨学科研究的前沿阵地，融合物理与化学的奇迹。',
                secret: '“埃卡里经常和芭芭拉一起打游戏。”',
                fullText: '全称: 罗塞塔帝国研究所附属理化学研究院。<br>院长: 塔贝蒂·贝拉特·埃卡里。<br>地点: 巴黎，法国。'
            },
            {
                id: 'icc',
                level: 2,
                name: 'I.C.C.',
                cnName: '国际威慑委员会',
                leader: 'Alexander Pluto Ritter',
                loc: 'Times Square, NY, USA',
                code: 'Eratosthenes',
                desc: '政府间友好关系协商与国际威慑委员会。',
                secret: '“威慑(Deterrence)才是和平的前提。”',
                fullText: '全称: 罗塞塔帝国研究所政府间友好关系协商与国际威慑委员会。<br>责任委员长: 亚历山大·布鲁托·里特尔 (埃拉托色尼)。<br>地点: 纽约时代广场。'
            },
            {
                id: 'data',
                level: 2,
                name: 'Data Processing Center',
                cnName: '综合数据处理与经济预算中心',
                leader: 'Edward von Parmian',
                loc: 'Philadelphia, PA, USA',
                code: 'Topaz (8.0)',
                desc: '数字生命 "EEE" 的诞生地，也是研究所的金库。',
                secret: '“其实就是个巨大的水獭储蓄罐。”',
                fullText: '全称: 罗塞塔帝国研究所综合数据处理与经济预算中心。<br>一级代号: 【托帕石】。<br>组长: 爱德华·德·帕米安 (图灵)。<br>此处诞生了远超时代的光子计算机和人工智能。'
            },
            {
                id: 'raccoon',
                level: 2,
                name: 'Raccoon Club',
                cnName: '适应性综合武装作战部队',
                leader: 'Ferdinand de Saussure',
                loc: 'Churchill, Canada',
                code: 'Unknown',
                desc: '总司令处。负责武装作战与海岸巡逻。',
                secret: '“为什么叫浣熊？因为干脆面好吃吗？”',
                fullText: '全称: 罗塞塔帝国研究所适应性综合武装作战部队总司令处 (浣熊俱乐部)。<br>司令: 费尔迪南·德·索绪尔。<br>地点: 加拿大丘吉尔镇。'
            },
            {
                id: 'library',
                level: 2,
                name: 'Library of Moliere',
                cnName: '莫里哀图书馆',
                leader: 'Albert Theodore Ghiorso',
                loc: 'Versailles, France',
                code: 'Indicolite (7.5)',
                desc: '特殊文献资料存放处。无论多么危险的知识，这里都有。',
                secret: '“馆长喜欢穿恐龙玩偶服吓人。”',
                fullText: '全称: 罗塞塔帝国研究所特殊文献资料存放处。<br>一级代号: 【靛青电气石】。<br>馆长: 阿尔伯特·西奥多·吉奥索。<br>图书馆分为内外两院，内院存放着研究所最黑暗的秘密。'
            },
            {
                id: 'astro',
                level: 2,
                name: 'Hubble-Kepler Observatory',
                cnName: '爱德文·哈勃·开普勒天文台',
                leader: 'Hipparchus',
                loc: 'Panama City, Panama',
                code: 'Unknown',
                desc: '仰望星空，记录宇宙的每一次脉动。',
                secret: '“星空计数人不仅看地，也看天。”',
                fullText: '全称: 罗塞塔帝国研究所爱德文·哈勃·开普勒天文台。<br>长官: 希帕克斯。<br>地点: 巴拿马城。'
            },
            {
                id: 'crypto',
                level: 2,
                name: 'Inst. of Cryptography',
                cnName: '语言、符号与密码学研究院',
                leader: 'Saussure / Morse',
                loc: 'Geneva, Switzerland',
                code: 'Vesuvianite (6.5)',
                desc: '加密、反间谍与文件保护。雨痕密码的发源地。',
                secret: '“别称：日内瓦养老院。”',
                fullText: '全称: 罗塞塔帝国研究所语言、符号与密码学研究院。<br>地点: 瑞士日内瓦。<br>这里生活优渥，被戏称为“养老院”。洛芙尔在此发明了黄金魔方。'
            },
            {
                id: 'madeleine',
                level: 3,
                name: 'Madeleine Institute',
                cnName: '玛德琳研究院 (下午茶艺术)',
                leader: 'Arcadia C. Madeleine',
                loc: 'Lyon, France',
                code: 'Monazite (5.25)',
                desc: '虽是三级机构，却是研究所内最甜蜜、影响力最大的地方。',
                secret: '“蛋糕里可能藏着炸弹哦。”',
                fullText: '全称: 罗塞塔帝国研究所附属下午茶艺术玛德琳研究院。<br>一级代号: 【独居石】。<br>活着是为了什么？为了玛德琳小蛋糕。'
            }
        ];

        // 渲染函数
        function render() {
            const grid1 = document.getElementById('grid-level1');
            const grid2 = document.getElementById('grid-level2');
            const grid3 = document.getElementById('grid-level3');

            database.forEach(item => {
                const card = document.createElement('div');
                card.className = 'card';
                card.onclick = () => openModal(item);
                
                // 莫氏硬度条样式
                let hardnessWidth = '0%';
                if(item.code && item.code.includes('(')) {
                    const hardness = parseFloat(item.code.match(/\d+(\.\d+)?/)[0]);
                    hardnessWidth = (hardness / 10 * 100) + '%';
                }

                card.innerHTML = `
                    <div class="card-code">
                        <span>${item.code || 'CODE: CLASSIFIED'}</span>
                        <span>[+]</span>
                    </div>
                    <h3 class="card-title">${item.name}</h3>
                    <span class="card-leader">${item.leader}</span>
                    <p style="color:var(--text-muted); font-size:0.9rem; flex-grow:1;">${item.desc}</p>
                    <div class="secret-text">${item.secret}</div>
                    <div class="card-loc">LOC: ${item.loc.toUpperCase()}</div>
                    <div style="width:100%; height:2px; background:#333; margin-top:10px;">
                        <div style="width:${hardnessWidth}; height:100%; background:var(--gold);"></div>
                    </div>
                `;

                if (item.level === 1) grid1.appendChild(card);
                else if (item.level === 2) grid2.appendChild(card);
                else grid3.appendChild(card);
            });
        }

        // 模态框逻辑
        function openModal(item) {
            const modal = document.getElementById('modal');
            const body = document.getElementById('modal-body');
            body.innerHTML = `
                <h2>${item.cnName}</h2>
                <div style="color:var(--gold); margin-bottom:1rem; font-family:'JetBrains Mono'">${item.name.toUpperCase()}</div>
                <p>${item.fullText}</p>
                <div class="modal-meta">
                    DATA SOURCE: ARCHIVE FILE [${Math.floor(Math.random()*300)}]<br>
                    LAST UPDATED: 19XX-XX-XX
                </div>
            `;
            modal.classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // 彩蛋逻辑：洛可可暗号
        function toggleSecret() {
            document.body.classList.toggle('decrypted');
            const btn = document.querySelector('.macaron-trigger');
            if(document.body.classList.contains('decrypted')) {
                alert("洛可可暗号已确认：蓝色马卡龙。\n雨痕层已揭开，显示隐藏批注。");
                btn.style.opacity = 1;
            } else {
                btn.style.opacity = 0.1;
            }
        }

        // 初始化
        document.addEventListener('DOMContentLoaded', render);

        // 点击遮罩关闭
        document.getElementById('modal').addEventListener('click', (e) => {
            if (e.target.id === 'modal') closeModal();
        });

    </script>
</body>
</html>
